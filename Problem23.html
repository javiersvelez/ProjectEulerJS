<html>

<head>
    <style>
        body {
            font-family: Arial;
        }
    </style>
</head>

<body>
    <h1>Problem 23</h1>
</body>
<script>
    var MAXIMUM = 28124;

    var integers = []
    for (var i = 0; i < MAXIMUM; i++) {
        integers[i] = false;
    }

    checkNumbers();

    //Make the final sum
    var totalSum = 0;
    for (var i = 0; i < MAXIMUM; i++) {
        if (integers[i] == false){
            totalSum += i;
        }
    }

    console.log("The sum is: " + totalSum);

    
    //Check what numbers can be expressed as the sum of 2 abundant numbers
    function checkNumbers() {
        var abundants = getAbundants(MAXIMUM);
        console.log("There are " + abundants.length + " abundant numbers");

        for (var i = 0; i < abundants.length; i++) {
            for (var j = i; j < abundants.length; j++) {
                var sum = abundants[i] + abundants[j];
                if (sum < MAXIMUM) {
                    integers[sum] = true;
                } else {
                    break;
                }
            }
        }
    }


    //Get an array of all abundant numbers from 0 to MAXIMUM
    function getAbundants(n) {
        var abundants = [];
        var abundantsSum = 0;
        for (var i = 0; i < n; i++) {
            if (numberType(i) == "A") {
                abundants.push(i);
            }
        }
        return abundants;
    }

    //Determine if a number is perfect, deficient, or abundant
    function numberType(n) {
        var sum = 0;
        for (var i = 0; i < n; i++) {
            if (n % i == 0) {
                sum += i;
                if (sum > n)
                    return "A";
            }
        }
        if (sum == n)
            return "P";
        else if (sum > n)
            return "A";
        else
            return "D";
    }
</script>

</html>